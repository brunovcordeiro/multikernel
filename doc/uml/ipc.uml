@startuml

!include hal.uml

remove HAL.CoreTypes
remove HAL.CoreInterface
remove HAL.SetupInterface
remove HAL.SyncInterface
remove HAL.PortalInterface

class Unknown {
	+ int get_inbox()
}

namespace IPC {
	class NameClient {
		+ int sys_name_link(int nodeid, const char *name)
		+ int sys_name_unlink(const char *name)
		+ int sys_name_lookup(char *name)
		+ void name_finalize(void)
		- int name_init(void)
		- int initialized = 0;
		- int server;
	}

	class NameMessage {
		+ uint16_t source
		+ uint16_t op
		+ int32_t nodeid
		+ char name[NANVIX_PROC_NAME_MAX]
	}

	enum NameMessageTypes {
		+ const int NAME_LOOKUP
		+ const int NAME_LINK
		+ const int NAME_UNLINK
		+ const int NAME_SUCCESS
		+ const int NAME_FAIL
	}

	IPC.NameMessage  .> IPC.NameMessageTypes : <<use>>
	IPC.NameClient   .> IPC.NameMessage      : <<use>>
	IPC.NameClient  ..> HAL.NoCInterface     : <<use>>
	IPC.NameClient  ..> HAL.MailboxInterface : <<use>>
}

Unknown <. IPC.NameClient : <<use>>

@enduml

